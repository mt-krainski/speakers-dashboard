{% for item in menu %}
    {% if item.visible %}
        {% if item.separator %}
            <li class="nav-item divider-vertical"></li>
        {% endif %}

        <li class="nav-item {% if item.selected %} active{% endif %}{% if item.children %} dropdown{% endif %}" id="top-menu-{{ item.slug }}">
            <a href="{{ item.url }}"{% if item.children %} class="nav-link dropdown-toggle" data-hover="dropdown" data-toggle="dropdown" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"{% else %}class="nav-link"{% endif %}>
                {% if item.icon %}
                    <i class="icon-{{ item.icon }} icon-white"></i>&nbsp;
                {% endif %}
                <span>{{ item.title }}</span>
                {% if item.children %}
                    &nbsp;<b class="caret"></b>
                {% endif %}
            </a>
            {% if item.children %}
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    {% for item in item.children %}
                        {% if item.visible %}
                            <a class="{% if item.selected %} active{% endif %} dropdown-item" href="{{ item.url }}">{{ item.title }}</a>
                                {# todo: add multilevel children #}
                        {% endif %}
                    {% endfor %}
                </div>

            {% endif %}
        </li>
    {% endif %}
{% endfor %}
